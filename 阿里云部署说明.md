# é˜¿é‡Œäº‘éƒ¨ç½²è¯´æ˜

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨éƒ¨ç½²è„šæœ¬ï¼ˆæ¨èï¼‰

#### Linux/Mac
```bash
chmod +x start-aliyun.sh
./start-aliyun.sh
```

#### Windows
```cmd
start-aliyun.bat
```

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²

#### 1. åœæ­¢ç°æœ‰å®¹å™¨
```bash
docker-compose down
```

#### 2. æ¸…ç†æ—§é•œåƒ
```bash
docker system prune -f
```

#### 3. æ„å»ºå¹¶å¯åŠ¨åç«¯
```bash
docker-compose up -d --build backend
```

#### 4. ç­‰å¾…åç«¯å¯åŠ¨å¹¶æ£€æŸ¥
```bash
sleep 30
curl http://localhost:5001/health
```

#### 5. æ„å»ºå¹¶å¯åŠ¨å‰ç«¯
```bash
docker-compose up -d --build frontend
```

#### 6. æ£€æŸ¥å‰ç«¯
```bash
curl http://localhost:8081/
```

## ğŸ”§ é…ç½®è¯´æ˜

### ä¸»è¦ä¿®æ”¹

1. **Dockerfile.backend**
   - ä½¿ç”¨ `python:3.9` æ›¿ä»£ `python:3.11-slim`
   - ç®€åŒ–ä¾èµ–å®‰è£…ï¼Œç›´æ¥ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒæº
   - ç§»é™¤å¤æ‚çš„æ¡ä»¶åˆ¤æ–­

2. **docker-compose.yml**
   - ç§»é™¤ `USE_CHINA_MIRROR` å‚æ•°
   - ç®€åŒ–æ„å»ºé…ç½®

3. **ç½‘ç»œä¼˜åŒ–**
   - ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒæºåŠ é€Ÿä¸‹è½½
   - é¿å…ç½‘ç»œè¶…æ—¶é—®é¢˜

## ğŸ“‹ ç¯å¢ƒè¦æ±‚

- Docker 20.10+
- Docker Compose 2.0+
- è‡³å°‘ 2GB å¯ç”¨å†…å­˜
- è‡³å°‘ 5GB å¯ç”¨ç£ç›˜ç©ºé—´

## ğŸŒ è®¿é—®åœ°å€

- **å‰ç«¯**: http://your-server-ip:8081
- **åç«¯**: http://your-server-ip:5001
- **APIæ–‡æ¡£**: http://your-server-ip:5001/swagger/

## ğŸ” æ•…éšœæ’é™¤

### 1. ç½‘ç»œè¶…æ—¶é—®é¢˜
å¦‚æœé‡åˆ°ç½‘ç»œè¶…æ—¶ï¼Œè¯·æ£€æŸ¥ï¼š
- æœåŠ¡å™¨ç½‘ç»œè¿æ¥
- Docker Hub è®¿é—®æ˜¯å¦æ­£å¸¸
- é˜²ç«å¢™è®¾ç½®

### 2. ç«¯å£å ç”¨é—®é¢˜
å¦‚æœç«¯å£è¢«å ç”¨ï¼Œå¯ä»¥ä¿®æ”¹ `docker-compose.yml` ä¸­çš„ç«¯å£æ˜ å°„ï¼š
```yaml
ports:
  - "8082:5000"  # ä¿®æ”¹ä¸ºå…¶ä»–ç«¯å£
```

### 3. å†…å­˜ä¸è¶³
å¦‚æœå†…å­˜ä¸è¶³ï¼Œå¯ä»¥ï¼š
- å¢åŠ æœåŠ¡å™¨å†…å­˜
- æˆ–è€…åªå¯åŠ¨åç«¯ï¼š`docker-compose up -d backend`

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. Docker æ—¥å¿—ï¼š`docker-compose logs`
2. å®¹å™¨çŠ¶æ€ï¼š`docker-compose ps`
3. ç³»ç»Ÿèµ„æºï¼š`docker stats` 