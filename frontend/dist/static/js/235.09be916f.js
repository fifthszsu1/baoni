"use strict";(self["webpackChunkbaoni_frontend"]=self["webpackChunkbaoni_frontend"]||[]).push([[235],{5235:function(e,a,r){r.r(a),r.d(a,{default:function(){return b}});var s=r(641),l=r(3751),n=r(953),o=r(5220),u=r(3594),i=r(163);const d={class:"login-container"},t={class:"login-form-wrapper"},p={key:0},c={key:1};var m={__name:"Login",setup(e){const a=(0,o.rd)(),r=(0,u.n)(),m=(0,n.KR)(),g=(0,n.Kh)({username:"",password:""}),f={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:20,message:"用户名长度在2到20个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:50,message:"密码长度在6到50个字符",trigger:"blur"}]},b=async()=>{if(m.value)try{await m.value.validate();const e=await r.login({username:g.username,password:g.password});e.success?(i.nk.success(e.message||"登录成功"),a.push("/dashboard")):i.nk.error(e.error||"登录失败")}catch(e){console.error("表单验证失败:",e)}};return(0,s.sV)(()=>{r.initializeAuth()}),(e,a)=>{const o=(0,s.g2)("el-input"),u=(0,s.g2)("el-form-item"),i=(0,s.g2)("el-button"),k=(0,s.g2)("el-form");return(0,s.uX)(),(0,s.CE)("div",d,[(0,s.Lk)("div",t,[a[2]||(a[2]=(0,s.Lk)("div",{class:"login-header"},[(0,s.Lk)("h1",null,"英文文本分析系统"),(0,s.Lk)("p",null,"请登录以继续使用")],-1)),(0,s.bF)(k,{ref_key:"loginFormRef",ref:m,model:g,rules:f,class:"login-form",onSubmit:(0,l.D$)(b,["prevent"])},{default:(0,s.k6)(()=>[(0,s.bF)(u,{prop:"username"},{default:(0,s.k6)(()=>[(0,s.bF)(o,{modelValue:g.username,"onUpdate:modelValue":a[0]||(a[0]=e=>g.username=e),placeholder:"用户名","prefix-icon":"User",size:"large",clearable:""},null,8,["modelValue"])]),_:1}),(0,s.bF)(u,{prop:"password"},{default:(0,s.k6)(()=>[(0,s.bF)(o,{modelValue:g.password,"onUpdate:modelValue":a[1]||(a[1]=e=>g.password=e),type:"password",placeholder:"密码","prefix-icon":"Lock",size:"large","show-password":"",clearable:"",onKeyup:(0,l.jR)(b,["enter"])},null,8,["modelValue"])]),_:1}),(0,s.bF)(u,null,{default:(0,s.k6)(()=>[(0,s.bF)(i,{loading:(0,n.R1)(r).isLoading,type:"primary",size:"large",class:"login-button",onClick:b},{default:(0,s.k6)(()=>[(0,n.R1)(r).isLoading?((0,s.uX)(),(0,s.CE)("span",c,"登录中...")):((0,s.uX)(),(0,s.CE)("span",p,"登录"))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])}}},g=r(6262);const f=(0,g.A)(m,[["__scopeId","data-v-7cdad08a"]]);var b=f}}]);
//# sourceMappingURL=235.09be916f.js.map